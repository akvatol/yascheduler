[db]
user =
password =
database =
host =
port = 5432

[local]
data_dir = ./data
tasks_dir = %(data_dir)s/tasks
keys_dir = %(data_dir)s/keys
engines_dir = %(data_dir)s/engines

[remote]
data_dir = ./data
tasks_dir = %(data_dir)s/tasks
engines_dir = %(data_dir)s/engines
user = root

[clouds]

[engine.pcrystal]
platform_packages = openmpi-bin wget
deploy_local_files = Pcrystal
spawn = nohup sh -c "cp {task_path}/INPUT {task_path}/OUTPUT && mpirun -np {ncpus} --allow-run-as-root -wd {task_path} $(realpath {engine_path}/Pcrystal) >> {task_path}/OUTPUT 2>&1" &
check = ps aux | grep crystal
run_marker = Pcrystal
sleep_interval = 6
input_files =
    INPUT
    fort.34
output_files =
    INPUT
    fort.34
    OUTPUT
    fort.9
    fort.87

[engine.dummy]
deploy_local_files = dummyengine
spawn = nohup sh -c "{engine_path}/dummyengine {task_path}/*" &
check = ps aux | grep ummyengine
run_marker = dummyengine
sleep_interval = 1
input_files = 1.input 2.input 3.input
output_files = 1.input 2.input 3.input 1.input.out 2.input.out 3.input.out

[engine.gulp]
deploy_local_files = gulp
spawn = nohup sh -c "{engine_path}/gulp < {task_path}/INPUT > {task_path}/OUTPUT" &
check = ps aux | grep ulp
run_marker = gulp
sleep_interval = 1
input_files = INPUT
output_files = INPUT OUTPUT
